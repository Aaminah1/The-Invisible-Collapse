/* Lamppost scene — scoped to avoid touching forest */
#lampsScene{
  position: relative;
  width: 100vw;
   min-height: 100vh;      /* full-screen pin like your other scenes */
  overflow: hidden;
  background: transparent;
   opacity: 0;
  transform: translateY(5vh);
  will-change: opacity, transform;
  z-index: 2; 
}


#lampsGroundBase{
  position:absolute; left:0; bottom:0;
  width:100vw; z-index:4;
}

/* stacked ground fades (5→8) */
#lampsGroundStack{
  position:absolute; inset:0; z-index:4; pointer-events:none;
}
#lampsGroundStack img.ground{
  position:absolute; left:0; right:0; bottom:0;
  width:100vw; height:auto; object-fit:cover;
  opacity:0; will-change:opacity;
}

/* lampposts */
#lampsRow{
  position:absolute; inset:0; z-index:5; pointer-events:none;
}
#lampsRow .lampWrap{
  position:absolute; bottom:0;
  transform:translateX(-50%);
  display:flex; align-items:flex-end;
  height:var(--lampH);                /* set via JS */
  transform-origin:bottom center;
}
#lampsRow .lamp{
  position:absolute; left:50%; bottom:0; transform:translateX(-50%);
  width:auto; max-height:100%;
  opacity:0; pointer-events:none;
  filter:drop-shadow(0 6px 16px rgba(0,0,0,.35));
}



/* shared knob for size (mirrors your --forestSizeMult) */
:root{ --citySizeMult: 1.35; }
/* Near parallax sits above ground, below lamps */
#parallaxNearStack{
  position:absolute; left:0; right:0; bottom:0;
  z-index:2; pointer-events:none;
  /* Height = viewport width / aspect ratio (AR is set by JS from the ref image) */
  height: calc(100vw / var(--nearAR, 2.40)); /* 2.40 is a safe fallback */
}

/* Each near-city image fills width, bottom anchored, and cross-fades */
#parallaxNearStack img{
  position:absolute; left:50%; bottom:0;
  transform: translateX(-50%);
  width:100%; height:auto;      /* preserve ref geometry */
  opacity:0; will-change: opacity, transform;
}

/* (Already present) stacking order reminder */
#lampsGroundBase  { z-index:1; }
#parallaxNearStack{ z-index:2; }
#lampsGroundStack { z-index:3; }
#lampsRow         { z-index:4; }
